import argparse
import os

parser = argparse.ArgumentParser("node_modules_sum", "")
parser.add_argument("root_dir", type=str)
args = parser.parse_args()

count = 0

for root, dirs, filenames in os.walk(args.root_dir):
    if root.endswith("node_modules"):
        real_dirs_count = 0
        for dir_name in dirs:
            if dir_name == '.bin':
                continue
            real_dirs_count = real_dirs_count + 1
        print("adding {} at path {}".format(real_dirs_count, root))
        count = count + len(dirs)

print("total count: {}".format(count))
